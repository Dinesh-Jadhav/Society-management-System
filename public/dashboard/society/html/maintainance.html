<div class="societyHeader"></div>
<div id="page-wrapper">
    <div class="container-fluid">
        <!-- Page Heading -->
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">
                    Eminity
                </h1>
                <ol class="breadcrumb">
                    <li>
                        <i class="fa fa-dashboard"></i> <a href="javascript:void(0)">Dashboard</a>
                    </li>
                    <li class="active">
                        <i class="fa fa-users"></i> Maintainance
                    </li>
                </ol>
            </div>
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-lg-12 col-sm-12">
                <h2> Maintainace </h2>
                 <div class="alert alert-danger" ng-show="errShow">{{errMessage}}</div>
                <!-- <span class="bg-danger">{{errMessage}}</span> -->
                <br>
                <div class="row">
                    <div class="col-sm-8">
                        <form name="amenityAdd" ng-submit="addMaintainance()">
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>From Date</label>
                                        <input type="text" datepicker placeholder="From Date" class="form-control" name="fromdate" ng-model="maintainance.month" data-mindate="{{today}}" required>
                                        <p ng-show="amenityAdd.fromdate.$invalid && !amenityAdd.fromdate.$pristine" class="help-block red-text">Please select the month</p>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>To Date</label>
                                        <input type="text" datepicker placeholder="To Date" class="form-control" name="todate" ng-model="maintainance.year" data-mindate="{{maintainance.month}}" required>
                                        <p ng-show="amenityAdd.todate.$invalid && !amenityAdd.todate.$pristine" class="help-block red-text">Please enter year</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Amount</label>
                                        <input type="number" min="0" placeholder="Enter Amount of maintainance" class="form-control" name="payment" ng-model="maintainance.amount" required>
                                        <p ng-show="amenityAdd.payment.$invalid && !amenityAdd.payment.$pristine" class="help-block red-text">Please enter amount </p>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group">
                                        <label>Last Date</label>
                                        <input type="text" datepicker placeholder="Enter Last Date" class="form-control" name="payment" ng-model="maintainance.last_payment_date" data-mindate="{{today}}" required>
                                        <p ng-show="amenityAdd.payment.$invalid && !amenityAdd.payment.$pristine" class="help-block red-text">Please enter last date</p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label>Penalty Fees(Per Month)</label>
                                        <input type="number" min="0" placeholder="Enter Penalty Amount of maintainance" class="form-control" name="penalty" ng-model="maintainance.penalty" required>
                                        <p ng-show="amenityAdd.penalty.$invalid && !amenityAdd.penalty.$pristine" class="help-block red-text">Penalty Amount is not empty </p>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <button ng-disabled="amenityAdd.$invalid" class="btn btn-success pull-right">Generate</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- /.row -->
        <div class="row">
            <div class="col-sm-12">
                <div class="row">
                    <div class="col-sm-12">
                        <h2>Maintainance List</h2>
                        <div class="table-responsive">
                            <table id="entry-grid" datatable="ng" class="stripe" dt-options="dtOptions" width="100%">
                                <thead>
                                    <th>From Date</th>
                                    <th>To Date</th>
                                    <th>Amount</th>
                                    <th>Penalty</th>
                                    <th>Last Payment Date</th>
                                    <th>Action</th>
                                </thead>
                                <tbody>
                                    <!-- <tr ng-show="noData">
                        <td colspan="9" align="center">No Due</td>
                      </tr> -->
                                    <tr ng-repeat="req in main">
                                        <td>{{req.month | date: 'dd MMM,yyyy'}}</td>
                                        <td>{{req.year | date: 'dd MMM,yyyy'}}</td>
                                        <td>{{req.amount}}</td>
                                        <td>{{req.penalty}}</td>
                                        <td>{{req.last_payment_date | date: 'dd MMM,yyyy'}}</td>
                                        <td><a href="#/paid-resident/{{id}}/{{req.enID}}" title="Paid Resident"><i class="fa fa-user-plus"></i></a> | <a href="#/unpaid-resident/{{id}}/{{req.enID}}" title="Unpaid Resident"><i class="fa fa-user-times"></i></a>|<a href="javascript:void(0)" ng-click="deletemaintanance(req.enID)" title="delete"><i class="fa fa-trash"></i></a>|<a href="#" data-toggle="modal" data-target="#myModal1" ng-click="updatemaintananceId(req.enID)"><i class="fa fa-edit"></i></a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.container-fluid -->
</div>
<div id="myModal1" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Update Details</h4>
            </div>
            <div class="modal-body">
                <h4 class="pull-left">Maintenance</h4>
                <form name="updateContributionDetail">
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label class="pull-left">From Date </label>
                                <input class="form-control" type="text" placeholder="Enter from date" name="last" ng-model="contriDetail.month"  datetimepicker required>
                                    <p ng-show="updateContributionDetail.last.$invalid && !updateContributionDetail.last.$pristine" class="help-block red-text">Please select From Date</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label class="pull-left">To Date </label>
                                <input class="form-control" type="text" placeholder="Enter to date" name="last" ng-model="contriDetail.year"  datetimepicker required>
                                    <p ng-show="updateContributionDetail.last.$invalid && !updateContributionDetail.last.$pristine" class="help-block red-text">Please select To Date</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label class="pull-left">Last Payment Date</label>
                                <input class="form-control" type="text" placeholder="Enter last payment date" name="last" ng-model="contriDetail.last_payment_date" data-mindate="{{today}}" datetimepicker required>
                                <p ng-show="updateContributionDetail.last.$invalid && !updateContributionDetail.last.$pristine" class="help-block red-text">Please select Last Payment Date</p>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group">
                                <label>Amount</label>
                                <input type="text" placeholder="Enter amount" class="form-control" name="desc" ng-model="contriDetail.amount" required></input>
                                <p ng-show="updateContributionDetail.desc.$invalid && !updateContributionDetail.desc.$pristine" class="help-block red-text">Please enter Amount</p>
                            </div>
                        </div>
                         <div class="col-sm-12">
                            <div class="form-group">
                                <label>Penalty</label>
                                <input type="text" placeholder="Enter penalty amount" class="form-control" name="desc" ng-model="contriDetail.penalty" required></input>
                                <p ng-show="updateContributionDetail.desc.$invalid && !updateContributionDetail.desc.$pristine" class="help-block red-text">Please enter Amount penalty</p>
                            </div>
                        </div>
                    </div>
                    </div>
                    
            
            <div class="modal-footer">
                <button type="button" ng-disabled="updateContributionDetail.$invalid" ng-click="updatemaintanance()" class="btn btn-success" data-dismiss="modal">Update</button>
                <button type="button" class="btn btn-default closeBtn" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>
    </form>
            </div>

<!-- /#page-wrapper -->
<society-footer></society-footer>
